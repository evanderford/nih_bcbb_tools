# MD Submission Pipeline (for use on local machine)

This package contains everything necessary to run the MD Submission Pipeline on a desktop computer.

Author: Elliott Vanderford

## Requirements

### Python

You must have an up-to-date version of Python (2.7 or 3.5+) installed and in your PATH.

### Selenium

You must also have a specific Python package called [Selenium](https://www.seleniumhq.org/) installed.

The best way to install Selenium for Python is with pip. You can do so by executing:

	pip install selenium

### Google Chrome

You will need Google Chrome (v63 or later), installed in the default location for your OS.

### chromedriver

Lastly, you'll need [chromedriver](https://sites.google.com/a/chromium.org/chromedriver/downloads), which is a driver that you'll want to install somewhere in your PATH.

## Setup

All the files in this package:

* `acemd_input_editor.py`
* `acemd_input_generator.sh`
* `charmmgui_submitter.py`
* `md_pipeline.sh`
* `md_pipeline.yaml`
* `par_all36_prot.prm`
* `toppar_water_ions_namd.str`

must be located in the directory in which you plan to run `./md_pipeline.sh`

## Configuration

The most important part of the pipeline: you need to edit `md_pipeline.yaml` to set the basic parameters for protein prep and simulation.

## Execution

Once the `md_pipeline.yaml` file is to your liking, execute

	./md_pipeline.sh

in the command line.

The pipeline will take ~20 minutes to complete, after which the program will print `done` to the command line.

## Pipeline products

### ACEMD

In `md_pipeline.yaml`, you specified a directory for ACEMD input files to go. In this directory (wherever it may be) you will find all the files needed to run an ACEMD job on Locus. These files are:

* `acemd_equil.inp`
* `acemd_prod.inp`
* `cg_input.pdb`
* `cg_input.psf`
* `par_all36_prot.prm`
* `toppar_water_ions_namd.str`

### Other

In your working directory (the directory in which you executed `./md_pipeline.sh`), you will find 2 new directories:

* `charmm-gui/`
* `misc/`

In the `charmm-gui/` directory, you will find all the files generated by the CHARMM-GUI webserver. If you requested any non-ACEMD input files, you will find these in their own labeled directories within the `charmm-gui/` directory.

In the `misc/` directory, you will find various backups and other extraneous files. You probably won't need to worry about anything in here.

## Post-pipeline steps

All that remains for you to do now is to submit an MD job to an HPC cluster (or run locally if it is a short simulation) and then analyze the results.
